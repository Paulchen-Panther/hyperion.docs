<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Addon API | Hyperion</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="128x128" href="/icons/favicon-128x128.png">
    <link rel="icon" type="image/ico" href="/icons/favicon.ico">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-828x1792.png">
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1125x2436.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2688.png">
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-750x1334.png">
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2208.png">
    <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-640x1136.png">
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1536x2048.png">
    <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2224.png">
    <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2388.png">
    <link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-2048x2732.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#fff">
    <meta name="description" content="Hyperion Ambient Light documentation">
    <meta name="theme-color" content="#2b81a0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hyperion Documentation">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#2b81a0">
    <link rel="preload" href="/assets/css/0.styles.d344bc5f.css" as="style"><link rel="preload" href="/assets/js/app.3aba4ad2.js" as="script"><link rel="preload" href="/assets/js/3.9e3f8a03.js" as="script"><link rel="preload" href="/assets/js/1.cf2cfa44.js" as="script"><link rel="preload" href="/assets/js/11.96460a75.js" as="script"><link rel="preload" href="/assets/js/69.1c0a6b69.js" as="script"><link rel="preload" href="/assets/js/7.0592d7c8.js" as="script"><link rel="prefetch" href="/assets/js/10.d1b4ec40.js"><link rel="prefetch" href="/assets/js/100.8acf16f5.js"><link rel="prefetch" href="/assets/js/101.f1c0c2f0.js"><link rel="prefetch" href="/assets/js/102.a5c8f8d6.js"><link rel="prefetch" href="/assets/js/103.fd7579fb.js"><link rel="prefetch" href="/assets/js/104.67f4cc23.js"><link rel="prefetch" href="/assets/js/105.a92b6d8a.js"><link rel="prefetch" href="/assets/js/106.484a5ee7.js"><link rel="prefetch" href="/assets/js/107.60ff1ecc.js"><link rel="prefetch" href="/assets/js/108.96b8f399.js"><link rel="prefetch" href="/assets/js/109.20b02303.js"><link rel="prefetch" href="/assets/js/110.677e9766.js"><link rel="prefetch" href="/assets/js/111.612dbffd.js"><link rel="prefetch" href="/assets/js/112.c0504179.js"><link rel="prefetch" href="/assets/js/113.963f386a.js"><link rel="prefetch" href="/assets/js/114.27389a5a.js"><link rel="prefetch" href="/assets/js/115.a2726fa5.js"><link rel="prefetch" href="/assets/js/116.0236954c.js"><link rel="prefetch" href="/assets/js/117.ae0e55ef.js"><link rel="prefetch" href="/assets/js/118.9a5169d5.js"><link rel="prefetch" href="/assets/js/119.e1d422a5.js"><link rel="prefetch" href="/assets/js/12.0c6a787a.js"><link rel="prefetch" href="/assets/js/120.d0a30a5a.js"><link rel="prefetch" href="/assets/js/121.f51292ca.js"><link rel="prefetch" href="/assets/js/122.6f747b5f.js"><link rel="prefetch" href="/assets/js/123.ce75973d.js"><link rel="prefetch" href="/assets/js/124.9be19df3.js"><link rel="prefetch" href="/assets/js/125.ef9fe330.js"><link rel="prefetch" href="/assets/js/126.58119339.js"><link rel="prefetch" href="/assets/js/13.98d2b54d.js"><link rel="prefetch" href="/assets/js/14.eae276b3.js"><link rel="prefetch" href="/assets/js/15.e651da13.js"><link rel="prefetch" href="/assets/js/16.668b0a46.js"><link rel="prefetch" href="/assets/js/17.f1fe7a19.js"><link rel="prefetch" href="/assets/js/18.b6d4f54a.js"><link rel="prefetch" href="/assets/js/19.569d54d6.js"><link rel="prefetch" href="/assets/js/20.745b68e9.js"><link rel="prefetch" href="/assets/js/21.3057ba6c.js"><link rel="prefetch" href="/assets/js/22.742c859b.js"><link rel="prefetch" href="/assets/js/23.d3c70ac6.js"><link rel="prefetch" href="/assets/js/24.4900486d.js"><link rel="prefetch" href="/assets/js/25.8adfba91.js"><link rel="prefetch" href="/assets/js/26.6f8ad90a.js"><link rel="prefetch" href="/assets/js/27.22564dea.js"><link rel="prefetch" href="/assets/js/28.958acd70.js"><link rel="prefetch" href="/assets/js/29.149e4358.js"><link rel="prefetch" href="/assets/js/30.d95da59c.js"><link rel="prefetch" href="/assets/js/31.f303259a.js"><link rel="prefetch" href="/assets/js/32.64e2e55c.js"><link rel="prefetch" href="/assets/js/33.82340cb3.js"><link rel="prefetch" href="/assets/js/34.5f53e034.js"><link rel="prefetch" href="/assets/js/35.837845d1.js"><link rel="prefetch" href="/assets/js/36.6d7383b3.js"><link rel="prefetch" href="/assets/js/37.ba3e6c0c.js"><link rel="prefetch" href="/assets/js/38.c7cf75d4.js"><link rel="prefetch" href="/assets/js/39.3cbcd54b.js"><link rel="prefetch" href="/assets/js/4.c6fede29.js"><link rel="prefetch" href="/assets/js/40.29f556c1.js"><link rel="prefetch" href="/assets/js/41.6b19cebe.js"><link rel="prefetch" href="/assets/js/42.a8861550.js"><link rel="prefetch" href="/assets/js/43.f624b609.js"><link rel="prefetch" href="/assets/js/44.dcf18fbd.js"><link rel="prefetch" href="/assets/js/45.91db682c.js"><link rel="prefetch" href="/assets/js/46.05926b30.js"><link rel="prefetch" href="/assets/js/47.a16d9ce7.js"><link rel="prefetch" href="/assets/js/48.77216f71.js"><link rel="prefetch" href="/assets/js/49.3aa9a27b.js"><link rel="prefetch" href="/assets/js/5.ca43668d.js"><link rel="prefetch" href="/assets/js/50.be90d66d.js"><link rel="prefetch" href="/assets/js/51.a074d933.js"><link rel="prefetch" href="/assets/js/52.d7d214b4.js"><link rel="prefetch" href="/assets/js/53.2868cca4.js"><link rel="prefetch" href="/assets/js/54.390d0b12.js"><link rel="prefetch" href="/assets/js/55.8e2b92b7.js"><link rel="prefetch" href="/assets/js/56.974b2aa3.js"><link rel="prefetch" href="/assets/js/57.d44f5815.js"><link rel="prefetch" href="/assets/js/58.cc7eaa70.js"><link rel="prefetch" href="/assets/js/59.754567c8.js"><link rel="prefetch" href="/assets/js/6.9533f68a.js"><link rel="prefetch" href="/assets/js/60.0c2d81e0.js"><link rel="prefetch" href="/assets/js/61.8b38697e.js"><link rel="prefetch" href="/assets/js/62.60d77761.js"><link rel="prefetch" href="/assets/js/63.3cfd5f05.js"><link rel="prefetch" href="/assets/js/64.58c87bd6.js"><link rel="prefetch" href="/assets/js/65.a9621c03.js"><link rel="prefetch" href="/assets/js/66.726a84f9.js"><link rel="prefetch" href="/assets/js/67.05a71d87.js"><link rel="prefetch" href="/assets/js/68.3dd4aed0.js"><link rel="prefetch" href="/assets/js/70.c359df4e.js"><link rel="prefetch" href="/assets/js/71.9e962e40.js"><link rel="prefetch" href="/assets/js/72.99671044.js"><link rel="prefetch" href="/assets/js/73.cf40c4f9.js"><link rel="prefetch" href="/assets/js/74.281bca61.js"><link rel="prefetch" href="/assets/js/75.1df6307c.js"><link rel="prefetch" href="/assets/js/76.87c59293.js"><link rel="prefetch" href="/assets/js/77.23484f75.js"><link rel="prefetch" href="/assets/js/78.7f6ee3e5.js"><link rel="prefetch" href="/assets/js/79.5067b881.js"><link rel="prefetch" href="/assets/js/8.502455a4.js"><link rel="prefetch" href="/assets/js/80.ea48d64e.js"><link rel="prefetch" href="/assets/js/81.5555a146.js"><link rel="prefetch" href="/assets/js/82.6139b055.js"><link rel="prefetch" href="/assets/js/83.d0df7530.js"><link rel="prefetch" href="/assets/js/84.9f7fe12a.js"><link rel="prefetch" href="/assets/js/85.4620c308.js"><link rel="prefetch" href="/assets/js/86.ff355880.js"><link rel="prefetch" href="/assets/js/87.69aa696e.js"><link rel="prefetch" href="/assets/js/88.cf699189.js"><link rel="prefetch" href="/assets/js/89.686751a9.js"><link rel="prefetch" href="/assets/js/9.da32c103.js"><link rel="prefetch" href="/assets/js/90.e1ca375a.js"><link rel="prefetch" href="/assets/js/91.decec9c9.js"><link rel="prefetch" href="/assets/js/92.ccdae856.js"><link rel="prefetch" href="/assets/js/93.b411f081.js"><link rel="prefetch" href="/assets/js/94.db1878ce.js"><link rel="prefetch" href="/assets/js/95.31d511a7.js"><link rel="prefetch" href="/assets/js/96.057e62b3.js"><link rel="prefetch" href="/assets/js/97.f8beb2ea.js"><link rel="prefetch" href="/assets/js/98.3917990e.js"><link rel="prefetch" href="/assets/js/99.60d74d2f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d344bc5f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hyperion_logo_dark_static.png" class="logo"> <span class="site-name">
        Hyperion
    </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/user/" class="nav-link">
  User
</a></div><div class="nav-item"><a href="/en/effects/" class="nav-link">
  Effects
</a></div><div class="nav-item"><a href="/en/json/" class="nav-link">
  Json API
</a></div> <a href="https://hyperion-project.org/forum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Forum
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <!----></nav> <div class="links" style="max-width:nullpx;"><div aria-label="Switch theme between light and dark" class="theme-toggler"><a><span aria-label="White Balance Sunny icon" role="img" class="material-design-icon white-balance-sunny-icon"><svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M3.55,18.54L4.96,19.95L6.76,18.16L5.34,16.74M11,22.45C11.32,22.45 13,22.45 13,22.45V19.5H11M12,5.5A6,6 0 0,0 6,11.5A6,6 0 0,0 12,17.5A6,6 0 0,0 18,11.5C18,8.18 15.31,5.5 12,5.5M20,12.5H23V10.5H20M17.24,18.16L19.04,19.95L20.45,18.54L18.66,16.74M20.45,4.46L19.04,3.05L17.24,4.84L18.66,6.26M13,0.55H11V3.5H13M4,10.5H1V12.5H4M6.76,4.84L4.96,3.05L3.55,4.46L5.34,6.26L6.76,4.84Z"><title>White Balance Sunny icon</title></path></svg></span></a></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <div class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" class="dropdown-title"><span aria-label="Web icon" role="img" class="material-design-icon web-icon"><svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"><title>Web icon</title></path></svg></span></button> <button type="button" class="mobile-dropdown-title"><span aria-label="Web icon" role="img" class="material-design-icon web-icon"><svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24" class="material-design-icon__svg"><path d="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"><title>Web icon</title></path></svg></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/addons/API.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li></ul></div></div></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/user/" class="nav-link">
  User
</a></div><div class="nav-item"><a href="/en/effects/" class="nav-link">
  Effects
</a></div><div class="nav-item"><a href="/en/json/" class="nav-link">
  Json API
</a></div> <a href="https://hyperion-project.org/forum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Forum
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="addon-api"><a href="#addon-api" class="header-anchor">#</a> Addon API</h1> <p>Overview of the API. Get access to these functions by importing the <code>hapi</code> module <code>import hapi</code>.</p> <table><thead><tr><th>Function</th> <th>Returns</th> <th>Comment</th></tr></thead> <tbody><tr><td>hapi.abort()</td> <td>bool</td> <td>Check if we should abort the script, True on abort request else false</td></tr> <tr><td>hapi.log()</td> <td>-</td> <td>Print a log message to the Hyperion log. See <a href="#hapi-log">hapi.log()</a></td></tr> <tr><td>hapi.registerCallback()</td> <td>-</td> <td>Register a function with a callback function. See <a href="#hapi-registercallback">hapi.registerCallback()</a></td></tr> <tr><td>hapi.unregisterCallback()</td> <td>-</td> <td>Unregister a function from callback. See <a href="#hapi-unregistercallback">hapi.unregisterCallback()</a></td></tr> <tr><td>hapi.getComponentState()</td> <td>int</td> <td>Get current state of a component. See <a href="#hapi-getcomponentstate">hapi.getComponentState()</a></td></tr> <tr><td>hapi.setComponentState()</td> <td>bool</td> <td>Enable or disable a component. See <a href="#hapi-setcomponentstate">hapi.setComponentState()</a></td></tr> <tr><td>hapi.getSettings()</td> <td>data</td> <td>Get the current user settings for your addon. See <a href="#hapi-getsettings">hapi.getSettings()</a></td></tr> <tr><td>hapi.setColor()</td> <td>-</td> <td>Set a color. See <a href="#hapi-setcolor">hapi.setColor()</a></td></tr> <tr><td>hapi.setEffect()</td> <td>int</td> <td>Start effect by name. See <a href="#hapi-seteffect">hapi.setEffect()</a></td></tr> <tr><td>hapi.getPriorityInfo()</td> <td>dict</td> <td>Get info about a priority. See <a href="#hapi-getpriorityinfo">hapi.getPriorityInfo()</a></td></tr> <tr><td>hapi.getAllPriorities()</td> <td>list</td> <td>Get all registered priorities. See <a href="#hapi-getallpriorities">hapi.getAllPriorities()</a></td></tr> <tr><td>hapi.getVisiblePriority()</td> <td>int</td> <td>Get current visible priority. See <a href="#hapi-getvisiblepriority">hapi.getVisiblePriority()</a></td></tr> <tr><td>hapi.setVisiblePriority()</td> <td>bool</td> <td>Select a specific priority. See <a href="#hapi-setvisiblepriority">hapi.setVisiblePriority()</a></td></tr> <tr><td>hapi.getAdjustmentList()</td> <td>list</td> <td>Get a list of all adjustment ids. See <a href="#hapi-getadjustmentlist">hapi.getAdjustmentList()</a></td></tr> <tr><td>hapi.getBrightness()</td> <td>int</td> <td>Get current brightness. See <a href="#hapi-getbrightness">hapi.getBrightness()</a></td></tr> <tr><td>hapi.setBrightness()</td> <td>bool</td> <td>Set new brightness. See <a href="#hapi-setbrightness">hapi.setBrightness()</a></td></tr></tbody></table> <h2 id="data-transformation-cheatsheet"><a href="#data-transformation-cheatsheet" class="header-anchor">#</a> Data transformation cheatsheet</h2> <p>As we need to transform &quot;UI elements&quot;-data from <code>json</code> to <code>python</code>, here a cheatsheet how the transformation is done.</p> <table><thead><tr><th style="text-align:center;">Json</th> <th style="text-align:center;">Python</th></tr></thead> <tbody><tr><td style="text-align:center;">boolean</td> <td style="text-align:center;">int</td></tr> <tr><td style="text-align:center;">integer</td> <td style="text-align:center;">int</td></tr> <tr><td style="text-align:center;">number</td> <td style="text-align:center;">float</td></tr> <tr><td style="text-align:center;">string</td> <td style="text-align:center;">str</td></tr> <tr><td style="text-align:center;">array</td> <td style="text-align:center;">list</td></tr> <tr><td style="text-align:center;">object</td> <td style="text-align:center;">dict</td></tr></tbody></table> <h2 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h2> <h3 id="hapi-log"><a href="#hapi-log" class="header-anchor">#</a> hapi.log()</h3> <p>Write a message to the Hyperion log. Your addon name will be automatically prepended to all messages!
<code>hapi.log(msg, lvl)</code>
| Argument | Type       | Comment |
| msg      | str     | The message you want to print as string |
| lvl      | enum     | Optional: Print message with a specific log lvl. <code>LOG_INFO</code> = Info, <code>LOG_WARNING</code> = Warning, <code>LOG_ERROR</code> = Error, <code>LOG_DEBUG</code> = Debug. <strong>Defaults to Debug</strong> |</p> <h3 id="hapi-registercallback"><a href="#hapi-registercallback" class="header-anchor">#</a> hapi.registerCallback()</h3> <p>To listen for specific Hyperion events you can register callbacks.
<code>hapi.registerCallback(callbackType, connectFunction)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>callbackType</td> <td>Enum</td> <td>Callbacks: <code>ON_COMP_STATE_CHANGED</code>, <code>ON_SETTINGS_CHANGED</code>, <code>ON_VISIBLE_PRIORITY_CHANGED</code></td></tr> <tr><td>connectFunction</td> <td>-</td> <td>A previously defined function which will be used to deliver the callback</td></tr> <tr><td>callbackType: ON_COMP_STATE_CHANGED</td> <td>-</td> <td>When comp state changes, arg1 <code>comp</code> component as str, arg2 <code>newState</code> as int</td></tr> <tr><td>callbackType: ON_SETTINGS_CHANGED</td> <td>-</td> <td>When user saved new settings, reload settings <a href="#hapi.getsettings">hapi.getSettings()</a></td></tr> <tr><td>callbackType: ON_VISIBLE_PRIORITY_CHANGED</td> <td>-</td> <td>Is called whenever the visible priority changes, argument <code>priority</code> of type int (the new priority)</td></tr></tbody></table> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># Example implementation with log output</span>
<span class="token keyword">import</span> hapi
<span class="token keyword">def</span> <span class="token function">onCompStateChanged</span><span class="token punctuation">(</span>comp<span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">:</span>
  hapi<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token string">&quot;The component &quot;</span><span class="token operator">+</span>comp<span class="token operator">+</span><span class="token string">&quot; changed state to:&quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>newState<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">onSettingsChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  hapi<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token string">&quot;New settings! Do something!&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">onVsibilePriorityChanged</span><span class="token punctuation">(</span>newPriority<span class="token punctuation">)</span><span class="token punctuation">:</span>
  hapi<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token string">&quot;The new visible priority is: &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>newPriority<span class="token punctuation">)</span><span class="token punctuation">)</span>
hapi<span class="token punctuation">.</span>registerCallback<span class="token punctuation">(</span>ON_COMP_STATE_CHANGED<span class="token punctuation">,</span> onCompStateChanged<span class="token punctuation">)</span>
hapi<span class="token punctuation">.</span>registerCallback<span class="token punctuation">(</span>ON_SETTINGS_CHANGED<span class="token punctuation">,</span> onSettingsChanged<span class="token punctuation">)</span>
hapi<span class="token punctuation">.</span>registerCallback<span class="token punctuation">(</span>ON_VISIBLE_PRIORITY_CHANGED<span class="token punctuation">,</span> onVsibilePriorityChanged<span class="token punctuation">)</span>
</code></pre></div><h3 id="hapi-unregistercallback"><a href="#hapi-unregistercallback" class="header-anchor">#</a> hapi.unregisterCallback()</h3> <p>You can also unregister a callbackType again. You can register and unregister as often you need it. Usually you won't need it, but for completion here it is! After unregister the connected function does no longer react upon callbacks
<code>hapi.unregisterCallback(callbackType)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>callbackType</td> <td>Enum</td> <td>One of <code>ON_COMP_STATE_CHANGED</code>, <code>ON_SETTINGS_CHANGED</code>, <code>ON_VISIBLE_PRIORITY_CHANGED</code></td></tr></tbody></table> <h3 id="hapi-getcomponentstate"><a href="#hapi-getcomponentstate" class="header-anchor">#</a> hapi.getComponentState()</h3> <p>Get the current state of a component.
<code>hapi.getComponentState(comp)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>comp</td> <td>int</td> <td>The component ID one of <code>COMP_ALL COMP_SMOOTHING COMP_BLACKBORDER COMP_LEDDEVICE COMP_GRABBER COMP_V4L</code>, prefixed with <code>COMP_</code>. See explanation here <a href="/en/json/control#components-ids-explained">Component IDs explained</a></td></tr> <tr><td>@return</td> <td>int</td> <td><code>True</code> if enabled, <code>False</code> if disabled, <code>-1</code> if not found</td></tr></tbody></table> <h3 id="hapi-setcomponentstate"><a href="#hapi-setcomponentstate" class="header-anchor">#</a> hapi.setComponentState()</h3> <p>Set a Hyperion component to a new state. This method writes a debug message on each call!
<code>hapi.setComponentState(comp, enable)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>comp</td> <td>int</td> <td>The component ID one of <code>COMP_ALL COMP_SMOOTHING COMP_BLACKBORDER COMP_LEDDEVICE COMP_GRABBER COMP_V4L</code>, prefixed with <code>COMP_</code>. See explanation here <a href="/en/json/control#components-ids-explained">Component IDs explained</a></td></tr> <tr><td>enable</td> <td>int</td> <td>True to enable it, False to disable it</td></tr> <tr><td>@return</td> <td>bool</td> <td>True if the requested component was found else false</td></tr></tbody></table> <h3 id="hapi-getsettings"><a href="#hapi-getsettings" class="header-anchor">#</a> hapi.getSettings()</h3> <p>Get the current user settings data for your addon. The returned data contains all settings that has been transformed from JSON to python data types. See the table below how they are transformed.
<code>hapi.getSettings()</code></p> <table><thead><tr><th style="text-align:center;">Json</th> <th style="text-align:center;">Python</th></tr></thead> <tbody><tr><td style="text-align:center;">boolean</td> <td style="text-align:center;">int</td></tr> <tr><td style="text-align:center;">integer</td> <td style="text-align:center;">int</td></tr> <tr><td style="text-align:center;">number</td> <td style="text-align:center;">float</td></tr> <tr><td style="text-align:center;">string</td> <td style="text-align:center;">str</td></tr> <tr><td style="text-align:center;">array</td> <td style="text-align:center;">tuple</td></tr> <tr><td style="text-align:center;">object</td> <td style="text-align:center;">dict</td></tr></tbody></table> <p><strong>Basics</strong> <br>
The root data type is usually of type object which will be transformed to a python dict, so we use the dict syntax to get the value. The fallback parameter should be defined wisely, if the value is not found it will be used instead.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> hapi
<span class="token comment"># Get a bool value of a dict </span>
myBoolValue <span class="token operator">=</span> MySettings<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MyBoolOption'</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># Get a int value of a dict </span>
myIntValue <span class="token operator">=</span> MySettings<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MyIntOption'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token comment"># Get a float value of a dict </span>
myFloatValue <span class="token operator">=</span> MySettings<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MyFloatOption'</span><span class="token punctuation">,</span> <span class="token number">15.7</span><span class="token punctuation">)</span>
<span class="token comment"># Get a string value of a dict </span>
myStringValue <span class="token operator">=</span> MySettings<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MyStringOption'</span><span class="token punctuation">,</span> <span class="token string">'MyFallbackString'</span><span class="token punctuation">)</span>
<span class="token comment"># Get a tuple of a dict</span>
<span class="token comment"># Two RGB colors would look like the following. A tuple that contains 2 other tuples where each contains 3 int values</span>
myListValue <span class="token operator">=</span> MySettings<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MyListOption'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Here a colorpicker example</span>
myColorValue <span class="token operator">=</span> MySettings<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MyColorPicker'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Here an array(tuple) of multiple colorpickers</span>
myColorValues <span class="token operator">=</span> MySettings<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MyColorPickers'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre></div><h3 id="hapi-setcolor"><a href="#hapi-setcolor" class="header-anchor">#</a> hapi.setColor()</h3> <p>Set a RGB color value with timeout at the given priority.
<code>hapi.setColor(red, green, blue, timeout, priority)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>red</td> <td>int</td> <td>Red 0-255</td></tr> <tr><td>green</td> <td>int</td> <td>Green 0-255</td></tr> <tr><td>blue</td> <td>int</td> <td>Blue 0-255</td></tr> <tr><td>timeout</td> <td>int</td> <td>Optional: Set a specific timeout in ms. Defaults to -1 (endless)</td></tr> <tr><td>priority</td> <td>int</td> <td>Optional: Set the color at a specific priority channel. Defaults to 50</td></tr></tbody></table> <h3 id="hapi-seteffect"><a href="#hapi-seteffect" class="header-anchor">#</a> hapi.setEffect()</h3> <p>Start an effect by name with timeout at the given priority.
<code>hapi.setEffect(effectName, timeout, priority)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>effectName</td> <td>str</td> <td>The name of the effect</td></tr> <tr><td>timeout</td> <td>int</td> <td>Optional: Set a specific timeout in ms. Defaults to -1 (endless)</td></tr> <tr><td>priority</td> <td>int</td> <td>Optional: Set the color at a specific priority channel. Defaults to 50</td></tr> <tr><td>@return</td> <td>int</td> <td><code>0</code> on success, <code>-1</code> on failure (eg not found)</td></tr></tbody></table> <h3 id="hapi-getpriorityinfo"><a href="#hapi-getpriorityinfo" class="header-anchor">#</a> hapi.getPriorityInfo()</h3> <p>Get priority info for the given priority.
<code>hapi.getPriorityInfo(priority)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>priority</td> <td>int</td> <td>The priority you want information for</td></tr> <tr><td>@return</td> <td>dict</td> <td>A dict with fields <code>priority</code> as int, <code>timeout</code> as int, <code>component</code> as str, <code>origin</code> as str, <code>owner</code> as str.</td></tr></tbody></table> <h3 id="hapi-getallpriorities"><a href="#hapi-getallpriorities" class="header-anchor">#</a> hapi.getAllPriorities()</h3> <p>Get all registered priorities.
<code>hapi.getAllPriorities()</code></p> <table><thead><tr><th style="text-align:center;">Argument</th> <th style="text-align:center;">Type</th> <th style="text-align:center;">Comment</th></tr></thead> <tbody><tr><td style="text-align:center;">@return</td> <td style="text-align:center;">tuple</td> <td style="text-align:center;">A tuple of all priorities that has been registered (type int) <code>(1,240,255)</code></td></tr></tbody></table> <h3 id="hapi-getvisiblepriority"><a href="#hapi-getvisiblepriority" class="header-anchor">#</a> hapi.getVisiblePriority()</h3> <p>Get the current visible priority.
<code>hapi.getVisiblePriority()</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>@return</td> <td>int</td> <td>The priority</td></tr></tbody></table> <h3 id="hapi-setvisiblepriority"><a href="#hapi-setvisiblepriority" class="header-anchor">#</a> hapi.setVisiblePriority()</h3> <p>Set a specific priority to visible. Returns <code>True</code> on success or <code>False</code> if not found.
<code>hapi.setVisiblePriority(priority)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>priority</td> <td>int</td> <td>The priority to set</td></tr> <tr><td>@return</td> <td>bool</td> <td><code>True</code> on success, <code>False</code> on failure (eg not found)</td></tr></tbody></table> <h3 id="hapi-getadjustmentlist"><a href="#hapi-getadjustmentlist" class="header-anchor">#</a> hapi.getAdjustmentList()</h3> <p>Returns a list of all available adjustment ids. These ids are used to apply changes to different calibration profiles.
<code>hapi.getAdjustmentList()</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>@return</td> <td>list</td> <td>List of adjustment ids</td></tr></tbody></table> <h3 id="hapi-getbrightness"><a href="#hapi-getbrightness" class="header-anchor">#</a> hapi.getBrightness()</h3> <p>Get the brightness of a given adjustment id. If no id is provided it will return the brightness of primary adjustment (e.g. first). See also <a href="#hapi-getadjustmentlist">hapi.getAdjustmentList()</a>.
<code>hapi.getBrightness(id)</code></p> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>id</td> <td>str</td> <td>Optional: Get the brightness of a specific adjustment id, if not given it will return the primary adjustment brightness</td></tr> <tr><td>@return</td> <td>int</td> <td>The brightness between <code>0</code> and <code>100</code> (considered as %). Returns <code>-1</code> if the adjustment id is not found</td></tr></tbody></table> <h3 id="hapi-setbrightness"><a href="#hapi-setbrightness" class="header-anchor">#</a> hapi.setBrightness()</h3> <p>Set the brightness for the given adjustment id. If no id is provided it will set all available adjustment ids to the given brightness. See also getAdjustmentList()
<code>hapi.setBrightness(brightness, id)</code></p> <table><thead><tr><th style="text-align:center;">Argument</th> <th style="text-align:center;">Type</th> <th style="text-align:center;">Comment</th></tr></thead> <tbody><tr><td style="text-align:center;">brightness</td> <td style="text-align:center;">int</td> <td style="text-align:center;">The brightness value between <code>0</code> and <code>100</code></td></tr> <tr><td style="text-align:center;">id</td> <td style="text-align:center;">str</td> <td style="text-align:center;">Optional: Target a specific adjustment id, if not set it will apply the brightness to all available ids</td></tr> <tr><td style="text-align:center;">@return</td> <td style="text-align:center;">bool</td> <td style="text-align:center;"><code>True</code> on success, <code>False</code> on failure (eg given adjustment id not found)</td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/hyperion-project/hyperion.docs/edit/main/docs/en/addons/API.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/19/2021, 1:00:59 PM</span></div></footer> <!----> </main></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.3aba4ad2.js" defer></script><script src="/assets/js/3.9e3f8a03.js" defer></script><script src="/assets/js/1.cf2cfa44.js" defer></script><script src="/assets/js/11.96460a75.js" defer></script><script src="/assets/js/69.1c0a6b69.js" defer></script><script src="/assets/js/7.0592d7c8.js" defer></script>
  </body>
</html>
